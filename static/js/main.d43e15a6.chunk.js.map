{"version":3,"sources":["components/population.txt","components/navbar.jsx","components/Display.jsx","components/content.jsx","components/Diagram.jsx","App.js","index.js"],"names":["module","exports","NavBar","className","this","props","text","value","selectedOption","onChange","e","onSelected","target","data","map","obj","key","country","Component","UserDisplay","Fragment","item","confirmed","deaths","recovered","active","Content","style","backgroundColor","scope","Display","Diagram","population","App","handleSelect","val","setState","fetch","myTxt","then","response","splitedObj","split","filter","str","includes","state","error","isLoaded","date","Date","setDate","getDate","month","getMonth","monthPaddid","day","dayPadded","yesterday","getFullYear","replace","Axios","get","FileName","arrObj","row","Object","assign","console","log","splice","json","items","index","some","i","findIndex","parseInt","push","sort","a","b","x","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d43e15a6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/population.8595bdcd.txt\";","import React, { Component } from 'react';\r\n//import Select from \"react-select\"\r\n\r\nclass NavBar extends Component {\r\n\r\n    render() { \r\n        return (\r\n            <nav className=\"navbar navbar-dark bg-dark\">\r\n                <h1 className=\"navbar-brand mb-0 h1\">COVID-19  {this.props.text}</h1>\r\n                <div className=\"col-sm-3\">\r\n                    <span className=\"text-white\">Select country:</span > \r\n                    <select  value={this.props.selectedOption} onChange={(e)=>this.props.onSelected(e.target.value)}>\r\n                        <option>no selected</option>\r\n                        {this.props.data.map((obj) => <option key={obj.country}>{obj.country}</option>)}\r\n                    </select>\r\n                </div>\r\n            </nav>\r\n          );\r\n    }\r\n}\r\n \r\nexport default NavBar;","import React, { Component } from 'react';\r\n\r\nclass UserDisplay extends Component {\r\n  \r\n    render() { \r\n        return (\r\n            <React.Fragment>\r\n                <tr className=\"text-center\">\r\n                    <td className=\"text-left\">{this.props.item.country}</td>\r\n                    <td >{this.props.item.confirmed}</td>\r\n                    <td >{this.props.item.deaths}</td>\r\n                    <td >{this.props.item.recovered}</td>\r\n                    <td >{this.props.item.active}</td>\r\n                </tr>              \r\n            </React.Fragment>         \r\n        );\r\n    }\r\n}\r\n \r\nexport default UserDisplay;","import React, { Component } from 'react';\r\nimport Display from \"./Display\"\r\n\r\n\r\nclass Content extends Component {\r\n   \r\n    render() { \r\n        return (\r\n            <div className=\"row shadow p-3 bg-light\">\r\n                <div className=\"table-responsive-sm \">\r\n                <table className=\"table table-hover table-bordered m-2\">\r\n                    <thead style={{backgroundColor: \"#c4cccf\"}}>\r\n                        <tr className=\"text-center\">\r\n                            <th className=\"text-left\" scope=\"col\">country</th>\r\n                            <th scope=\"col\">confirmed</th>\r\n                            <th scope=\"col\">deaths</th>\r\n                            <th scope=\"col\">recovered</th>\r\n                            <th scope=\"col\">active</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                         {this.props.data.map((obj)=><Display key={obj.country} item={obj}/>)\r\n                         }\r\n                    </tbody>\r\n                </table>\r\n             </div> \r\n               \r\n            </div>\r\n            );\r\n    }\r\n}\r\n \r\nexport default Content;","import React, {Component } from 'react';\r\n\r\n\r\nclass Diagram extends Component {\r\n    render() { \r\n        return (\r\n            <div>\r\n                 {this.props.population===0? \"\" :this.props.country+\" population:\"+this.props.population}\r\n            </div>           \r\n          );\r\n    }\r\n}\r\n \r\nexport default Diagram","import React, { Component } from 'react';\nimport NavBar from \"./components/navbar\"\nimport Content from \"./components/content\"\nimport Diagram from \"./components/Diagram\"\nimport Axios from \"axios\"\nimport  \"../node_modules/bootstrap/dist/css/bootstrap.css\"\nimport \"./tableStyle.css\"\nimport myTxt from \"./components/population.txt\"\n\nclass App extends Component {\n  constructor(){\n    super()\n    this.state = {\n       error:null,\n       isLoaded:false,\n       data:[],\n       date:null,\n       selectedOption: null,\n       population:null\n      }\n}\n    \nFileName(){\n    const URL=\"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/_DATE_.csv\";\n    const date=new Date()//mindig az aktualis datumal jon letre\n    date.setDate(date.getDate()-2)//a tegnapi datum kell nekunk mindig\n    const month=date.getMonth()+1   //mert a januarnak 0 felel meg\n    const monthPaddid=month<10 ?  `0${month}` : month;\n    const day=date.getDate();\n    const dayPadded=day<10 ? `0${day}` : day;\n    const yesterday= `${monthPaddid}-${dayPadded}-${date.getFullYear()}`;\n    //console.log(\"tegnap=\"+yesterday)\n    this.setState({date:yesterday})\n    return URL.replace(\"_DATE_\",yesterday);            \n}\n\ncomponentDidMount(){\n    Axios.get(this.FileName())\n       .then((response) =>{\n            const arr=response.data.split(\"\\n\")\n            const arrObj=arr.map(row=> Object.assign({}, row.split(\",\")))\n            console.log(arrObj[0])\n            arrObj.splice(0,1);//a fejlec nem kell\n            console.log(arrObj[0])\n            let json = {\n                items: []\n            };             \n            arrObj.map((item,index)=> {  \n               if( json.items.some(obj=> obj.country ===item[3])){\n                    //console.log(\"mar van\");\n                    let i=json.items.findIndex(e=>e.country===item[3]);\n                    //console.log(item[3]+\"mar van:\"+i+\"-\"+(json.items[i].confirmed+parseInt(item[7])));\n                    json.items[i].confirmed=parseInt(json.items[i].confirmed)+parseInt(item[7]);\n                    json.items[i].deaths=parseInt(json.items[i].deaths)+parseInt(item[8]);\n                    json.items[i].recovered=parseInt(json.items[i].recovered)+parseInt(item[9]);\n                    json.items[i].active=item[10] ? parseInt(json.items[i].active)+parseInt(item[10]) :json.items[i].active;\n               }else\n                   json.items.push({ \n                        \"country\"  : item[3],\n                        \"confirmed\":item[7],\n                        \"deaths\":item[8],\n                        \"recovered\":item[9],\n                        \"active\"  : item[10]\n                    })\n                });\n            //rendezes:\n            json.items.sort((a,b) => (a.country > b.country) ? 1 : ((b.country > a.country) ? -1 : 0)); \n            //hibas adatok torlese:\n            json.items = json.items.filter(x => x.confirmed>0);\n            json.items = json.items.filter(x => x.country!=='\"Korea');\n\n            this.setState({\n                    isLoaded:true,\n                    data:json.items\n            })\n       })\n}\nhandleSelect = (val)=> {\n  this.setState({selectedOption:val})\n  if(val!==\"no selected\"){\n    fetch(myTxt)\n    .then(response=>response.text())\n    .then(text=>{\n      const obj=text.split(\"\\r\\n\")\n      const filteredData=obj.filter(str=>str.includes(val))\n      //console.log(filteredData)\n      const splitedObj=filteredData.map(str=>str.split(\";\"))\n      this.setState({population:splitedObj[0][1]})\n    })\n  }else\n    this.setState({\n      selectedOption:null,\n      population:0\n    })\n\n  \n}\n\n  render() { \n    console.log(this.state.selectedOption+\" render-bol\");\n    return (\n      <React.Fragment>\n        <NavBar text={this.state.isLoaded ? \" date: \"+this.state.date  : \"is loading...\" } \n                data={this.state.data} \n                onSelected={this.handleSelect}\n                selectedOption={this.state.selectedOption}/>\n        <main className='row'>\n              <div className=\"col-sm-7\">\n                  <Content data={this.state.data} />\n              </div>\n              <div className=\"col-sm-5\">\n                 <Diagram country={this.state.selectedOption} population={this.state.population}/>\n              </div>   \n        </main>\n      </React.Fragment>\n      \n      );\n  }\n}\n \nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root')\n);\n"],"sourceRoot":""}